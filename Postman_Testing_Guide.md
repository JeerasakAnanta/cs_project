# р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ API р╕Фр╣Йр╕зр╕в Postman р╕кр╕│р╕лр╕гр╕▒р╕Ъ LannaFinChat

## ЁЯУЛ р╕ар╕▓р╕Юр╕гр╕зр╕б
р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Щр╕╡р╣Йр╕Ир╕░р╕Кр╣Ир╕зр╕вр╕Др╕╕р╕Ур╕Чр╕Фр╕кр╕нр╕Ъ API р╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ LannaFinChat р╕Фр╣Йр╕зр╕в Postman р╣Вр╕Фр╕вр╕Др╕гр╕нр╕Ър╕Др╕ер╕╕р╕бр╕Чр╕╕р╕Б endpoints р╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

## ЁЯЪА р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓

### 1. р╕Щр╕│р╣Ар╕Вр╣Йр╕▓ Collection р╣Бр╕ер╕░ Environment
1. р╣Ар╕Ыр╕┤р╕Ф Postman
2. р╕Др╕ер╕┤р╕Б **Import** 
3. р╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Яр╕ер╣М `LannaFinChat_API_Tests.postman_collection.json`
4. р╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Яр╕ер╣М `LannaFinChat_Environment.postman_environment.json`
5. р╣Ар╕ер╕╖р╕нр╕Б Environment "LannaFinChat Environment" р╣Гр╕Щр╕бр╕╕р╕бр╕Вр╕зр╕▓р╕Ър╕Щ

### 2. р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Environment Variables
р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Environment variables р╕Цр╕╣р╕Бр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Фр╕▒р╕Зр╕Щр╕╡р╣Й:
- `base_url`: `http://localhost:8000` (р╕лр╕гр╕╖р╕н URL р╕Вр╕нр╕Зр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕Вр╕нр╕Зр╕Др╕╕р╕У)
- `test_username`: `testuser`
- `test_password`: `testpassword123`
- `test_email`: `test@example.com`

## ЁЯзк р╕ер╕│р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### Phase 1: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ
1. **1.1 Root Endpoint** - р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н API
2. **1.2 Login Status Check** - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕Цр╕▓р╕Щр╕░р╕гр╕░р╕Ър╕Ъ login

### Phase 2: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ Authentication
1. **1.3 Register New User** - р╕кр╕гр╣Йр╕▓р╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Гр╕лр╕бр╣И
2. **1.4 Login User** - р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ (р╕Ир╕░р╣Ар╕Бр╣Зр╕Ъ token р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤)
3. **1.5 Refresh Token** - р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕гр╕╡р╣Ар╕Яр╕гр╕К token
4. **1.6 Logout User** - р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ

### Phase 3: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ Chat System
1. **2.1 Create New Conversation** - р╕кр╕гр╣Йр╕▓р╕Зр╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓р╣Гр╕лр╕бр╣И
2. **2.2 Get All Conversations** - р╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
3. **2.3 Get Specific Conversation** - р╕Фр╕╢р╕Зр╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓р╣Ар╕Йр╕Юр╕▓р╕░
4. **2.4 Update Conversation Title** - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Кр╕╖р╣Ир╕нр╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓
5. **2.5 Get Messages in Conversation** - р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕Щр╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓
6. **2.6 Send Message to Conversation** - р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╕бр╣И
7. **2.7 Delete Conversation** - р╕ер╕Ър╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓

### Phase 4: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ Anonymous р╣Бр╕ер╕░ Guest Chat
1. **3.1 Create Anonymous Conversation** - р╕кр╕гр╣Йр╕▓р╕Зр╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓р╣Бр╕Ър╕Ър╣Др╕бр╣Ир╕гр╕░р╕Ър╕╕р╕Хр╕▒р╕зр╕Хр╕Щ
2. **3.2 Send Anonymous Message** - р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕Ър╕Ър╣Др╕бр╣Ир╕гр╕░р╕Ър╕╕р╕Хр╕▒р╕зр╕Хр╕Щ
3. **4.1 Create Guest Conversation** - р╕кр╕гр╣Йр╕▓р╕Зр╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓р╣Бр╕Ър╕Ъ guest
4. **4.2 Send Guest Message** - р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕Ър╕Ъ guest

### Phase 5: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ PDF Management
1. **5.1 List All PDFs** - р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Др╕Яр╕ер╣М PDF р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
2. **5.2 Upload PDF File** - р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М PDF (р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ admin)
3. **5.3 Delete PDF File** - р╕ер╕Ър╣Др╕Яр╕ер╣М PDF (р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ admin)

### Phase 6: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ Feedback System
1. **6.1 Submit Message Feedback** - р╕кр╣Ир╕З feedback р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
2. **6.2 Get Feedback Statistics** - р╕Фр╕╢р╕Зр╕кр╕Цр╕┤р╕Хр╕┤ feedback

### Phase 7: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ Admin System
1. **7.1 Get Admin Statistics** - р╕Фр╕╢р╕Зр╕кр╕Цр╕┤р╕Хр╕┤р╕гр╕░р╕Ър╕Ъ (р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ admin)
2. **7.2 Get All Users** - р╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ admin)
3. **7.3 Get All Conversations (Admin)** - р╕Фр╕╢р╕Зр╕Бр╕▓р╕гр╕кр╕Щр╕Чр╕Щр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ admin)
4. **7.4 Get System Logs** - р╕Фр╕╢р╕З log р╕гр╕░р╕Ър╕Ъ (р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ admin)

### Phase 8: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ Vector Management
1. **8.1 List Vector Collections** - р╕гр╕▓р╕вр╕Бр╕▓р╕г vector collections
2. **8.2 Create Vector Collection** - р╕кр╕гр╣Йр╕▓р╕З vector collection р╣Гр╕лр╕бр╣И
3. **8.3 Search Vector Documents** - р╕Др╣Йр╕Щр╕лр╕▓р╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Гр╕Щ vector store
4. **8.4 Delete Vector Collection** - р╕ер╕Ъ vector collection

### Phase 9: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ Error Handling
1. **9.1 Test Invalid Authentication** - р╕Чр╕Фр╕кр╕нр╕Ъ token р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
2. **9.2 Test Missing Authentication** - р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Др╕бр╣Ир╕кр╣Ир╕З token
3. **9.3 Test Invalid Endpoint** - р╕Чр╕Фр╕кр╕нр╕Ъ endpoint р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕нр╕вр╕╣р╣И
4. **9.4 Test Invalid JSON Body** - р╕Чр╕Фр╕кр╕нр╕Ъ JSON body р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

## ЁЯФз р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ
р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ър╣Гр╕Щ Environment variables:
- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ `test_username`, `test_password`, `test_email` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕Фр╕кр╕нр╕Ъ
- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ `base_url` р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕Чр╕╡р╣Ир╣Бр╕Хр╕Бр╕Хр╣Ир╕▓р╕Зр╕Бр╕▒р╕Щ

### р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕Ър╕Ъ Batch
1. р╣Ар╕ер╕╖р╕нр╕Б Collection р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
2. р╕Др╕ер╕┤р╕Б **Run** 
3. р╣Ар╕ер╕╖р╕нр╕Б Environment "LannaFinChat Environment"
4. р╕Др╕ер╕┤р╕Б **Run LannaFinChat API Tests**

### р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╣Ар╕Йр╕Юр╕▓р╕░р╕кр╣Ир╕зр╕Щ
р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕▒р╕Щр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╣Ар╕Йр╕Юр╕▓р╕░р╕кр╣Ир╕зр╕Щр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г:
- р╣Ар╕ер╕╖р╕нр╕Б Folder р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ
- р╕Др╕ер╕┤р╕Бр╕Вр╕зр╕▓ тЖТ **Run folder**

## ЁЯУК р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М

### Status Codes р╕Чр╕╡р╣Ир╕Др╕▓р╕Фр╕лр╕зр╕▒р╕З
- `200` - р╕кр╕│р╣Ар╕гр╣Зр╕И
- `201` - р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕│р╣Ар╕гр╣Зр╕И
- `400` - Bad Request
- `401` - Unauthorized
- `403` - Forbidden
- `404` - Not Found
- `500` - Internal Server Error

### р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Response
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Status Code
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Response Body
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Headers (р╣Вр╕Фр╕вр╣Ар╕Йр╕Юр╕▓р╕░ Authorization)
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Response Time

## ЁЯРЫ р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в

### 1. Authentication Error (401)
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕Фр╣Й login р╣Бр╕ер╣Йр╕з
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ access_token р╕Цр╕╣р╕Бр╣Ар╕Бр╣Зр╕Ър╣Гр╕Щ Environment
- р╕ер╕нр╕З refresh token р╕лр╕гр╕╖р╕н login р╣Гр╕лр╕бр╣И

### 2. Connection Error
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣И
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ `base_url` р╣Гр╕Щ Environment
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ network connection

### 3. File Upload Error
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Ар╕Ыр╣Зр╕Щ admin user
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕Яр╕ер╣Мр╣Ар╕Ыр╣Зр╕Щ PDF
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М

### 4. Database Error
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ database р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╣Др╕Фр╣Й
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ tables р╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ logs р╕Вр╕нр╕Зр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М

## ЁЯУЭ р╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Ьр╕ер╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### р╕Бр╕▓р╕г Export Results
1. р╕лр╕ер╕▒р╕Зр╕гр╕▒р╕Щр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╣Ар╕кр╕гр╣Зр╕И
2. р╕Др╕ер╕┤р╕Б **Export Results**
3. р╣Ар╕ер╕╖р╕нр╕Б format р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г (JSON, CSV)

### р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З Test Report
1. р╣Гр╕Кр╣Й Newman (Command Line) р╕кр╕│р╕лр╕гр╕▒р╕Ъ CI/CD
2. р╕кр╕гр╣Йр╕▓р╕З custom test scripts
3. р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Ьр╕ер╣Гр╕Щр╕гр╕░р╕Ър╕Ъ tracking

## ЁЯФД р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕Ър╕Ъ Automated

### р╕Бр╕▓р╕гр╣Гр╕Кр╣Й Newman
```bash
# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Newman
npm install -g newman

# р╕гр╕▒р╕Щр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ
newman run LannaFinChat_API_Tests.postman_collection.json \
  -e LannaFinChat_Environment.postman_environment.json \
  --reporters cli,html \
  --reporter-html-export report.html
```

### р╕Бр╕▓р╕гр╣Гр╕Кр╣Й Postman CLI
```bash
# р╕гр╕▒р╕Щр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ
postman collection run LannaFinChat_API_Tests.postman_collection.json \
  --environment LannaFinChat_Environment.postman_environment.json
```

## ЁЯУЮ р╕Бр╕▓р╕гр╕Вр╕нр╕Др╕зр╕▓р╕бр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н

р╕лр╕▓р╕Бр╕Юр╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕гр╕╖р╕нр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н:
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ logs р╕Вр╕нр╕Зр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ database connection
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ environment variables
4. р╕ер╕нр╕Зр╕Чр╕Фр╕кр╕нр╕Ъ endpoints р╕Чр╕╡р╕ер╕░р╕Хр╕▒р╕з

---

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕**: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕Щр╕╡р╣Йр╕Др╕гр╕нр╕Ър╕Др╕ер╕╕р╕б API endpoints р╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ LannaFinChat р╕лр╕▓р╕Бр╕бр╕╡ endpoints р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕бр╕лр╕гр╕╖р╕нр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З р╣Вр╕Ыр╕гр╕Фр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х collection р╕Хр╕▓р╕бр╕Др╕зр╕▓р╕бр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б

