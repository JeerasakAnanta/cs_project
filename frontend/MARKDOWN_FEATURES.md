# Markdown Features ใน LannaFinChat

## ภาพรวม

LannaFinChat ได้เพิ่มการรองรับ Markdown formatting เพื่อให้การแสดงผลข้อความจาก AI Bot อ่านง่ายและสวยงามมากขึ้น

## Markdown Elements ที่รองรับ

### 1. หัวข้อ (Headings)

```markdown
# หัวข้อหลัก

## หัวข้อรอง

### หัวข้อย่อย

#### หัวข้อเล็ก

##### หัวข้อเล็กมาก

###### หัวข้อเล็กที่สุด
```

### 2. การจัดรูปแบบข้อความ

```markdown
**ข้อความหนา**
_ข้อความเอียง_
**_ข้อความหนาและเอียง_**
~~ข้อความขีดฆ่า~~
```

### 3. รายการ (Lists)

```markdown
- รายการแบบจุด
- รายการที่สอง
- รายการที่สาม

1. รายการลำดับ 1
2. รายการลำดับ 2
3. รายการลำดับ 3
```

### 4. ลิงก์และรูปภาพ

```markdown
[ข้อความลิงก์](https://example.com)
![ข้อความรูปภาพ](https://example.com/image.jpg)
```

### 5. โค้ด (Code)

````markdown
`โค้ดบรรทัดเดียว`

```javascript
// โค้ดหลายบรรทัด
function example() {
  return 'Hello World';
}
```
````

````

### 6. ข้อความอ้างอิง (Blockquotes)
```markdown
> ข้อความอ้างอิง
> สามารถมีหลายบรรทัดได้
````

### 7. ตาราง (Tables)

```markdown
| หัวคอลัมน์ 1 | หัวคอลัมน์ 2 | หัวคอลัมน์ 3 |
| ------------ | ------------ | ------------ |
| ข้อมูล 1     | ข้อมูล 2     | ข้อมูล 3     |
| ข้อมูล 4     | ข้อมูล 5     | ข้อมูล 6     |
```

### 8. เส้นคั่น (Horizontal Rules)

```markdown
---

หรือ

---

หรือ

---
```

## การแสดงผลในแอปพลิเคชัน

### สีและสไตล์

- **หัวข้อ**: สีขาว พร้อมเส้นขีดด้านล่าง
- **ข้อความหนา**: สีฟ้าอ่อน (#a8b3cf)
- **ข้อความเอียง**: สีฟ้าอ่อน (#92a0bf)
- **โค้ด**: พื้นหลังสีเทาเข้ม (#374151) ตัวอักษรสีฟ้า (#60a5fa)
- **บล็อกโค้ด**: พื้นหลังสีเทาเข้ม (#1f2937) พร้อมขอบ
- **ข้อความอ้างอิง**: พื้นหลังสีฟ้าอ่อน พร้อมเส้นขีดด้านซ้าย
- **ลิงก์**: สีฟ้า (#60a5fa) พร้อมเส้นขีดใต้
- **ตาราง**: พื้นหลังสลับสี พร้อมขอบและ hover effect

### ความปลอดภัย

- มีการป้องกัน XSS (Cross-Site Scripting)
- ลบ script tags และ iframe tags
- ลบ javascript: และ event handlers
- ใช้ marked library ที่ปลอดภัย

## การใช้งาน

### สำหรับผู้ใช้

1. ส่งข้อความปกติไปยัง Chatbot
2. Bot จะตอบกลับด้วยข้อความที่อาจมี Markdown formatting
3. ข้อความจะแสดงผลในรูปแบบที่อ่านง่าย

### สำหรับนักพัฒนา

1. ข้อความจาก Bot จะถูกประมวลผลผ่าน `renderMarkdown()` function
2. ข้อความจากผู้ใช้จะแสดงเป็นข้อความธรรมดา
3. มีการแสดง indicator "Markdown รองรับ" สำหรับข้อความจาก Bot

## ตัวอย่างการใช้งาน

### คำถามตัวอย่าง

- "ขั้นตอนการเบิกค่าใช้จ่ายในการเดินทางไปราชการ"
- "เอกสารที่ต้องใช้ในการเบิกค่าใช้จ่าย"
- "ระยะเวลาการเบิกจ่ายค่าใช้จ่าย"
- "การคำนวณค่าใช้จ่ายในการเดินทาง"

### ผลลัพธ์ที่คาดหวัง

Bot จะตอบกลับด้วยข้อความที่จัดรูปแบบด้วย Markdown เช่น:

- หัวข้อที่ชัดเจน
- รายการขั้นตอน
- ตารางข้อมูล
- โค้ดตัวอย่าง
- ข้อความอ้างอิง

## การปรับแต่งเพิ่มเติม

### เพิ่ม CSS Classes

```css
.prose .highlight {
  background-color: rgba(59, 130, 246, 0.2);
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  border-left: 3px solid #3b82f6;
}

.prose .info-box {
  background-color: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: 0.5rem;
  padding: 1rem;
  margin: 1rem 0;
}
```

### การใช้งาน Custom Classes

```markdown
<div class="highlight">ข้อความไฮไลท์</div>
<div class="info-box">ข้อมูลสำคัญ</div>
<div class="warning-box">คำเตือน</div>
<div class="error-box">ข้อผิดพลาด</div>
```

## การแก้ไขปัญหา

### ปัญหาที่พบบ่อย

1. **Markdown ไม่แสดงผล**: ตรวจสอบว่า marked library ถูก import แล้ว
2. **สีไม่ถูกต้อง**: ตรวจสอบ CSS classes ใน index.css
3. **XSS warning**: ตรวจสอบการ sanitization ใน renderMarkdown function

### การแก้ไข

1. รีสตาร์ท development server
2. ตรวจสอบ console สำหรับ error messages
3. ตรวจสอบ network tab สำหรับ API responses
